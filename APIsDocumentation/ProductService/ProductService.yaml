openapi: 3.0.3
info:
  title: Product Service API
  version: 1.0.0
  description: API for managing products and categories in the e-commerce platform
tags:
  - name: Products
    description: Operations related to product management
  - name: Categories
    description: Operations related to product categories
paths:
  /products:
    get:
      tags:
        - Products
      summary: Get all products
      description: Retrieve a list of products with optional filters and sorting
      parameters:
        - in: query
          name: categoryId
          schema:
            type: string
            format: uuid
          description: Filter products by category ID
        - in: query
          name: search
          schema:
            type: string
          description: Search by product name or description
        - in: query
          name: isFeatured
          schema:
            type: boolean
          description: Filter by featured products
        - in: query
          name: sortBy
          schema:
            type: string
            enum:
              - salesCount
          description: Sort products by sales count (for popular products)
        - in: query
          name: page
          schema:
            type: integer
            default: 1
          description: Page number for pagination
        - in: query
          name: limit
          schema:
            type: integer
            default: 10
          description: Number of products per page
      responses:
        '200':
          description: List of products
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
              examples:
                generated:
                  summary: Generated product list
                  value:
                    - id: '100'
                      name: Licensed Ceramic Table
                      description: Marks - Monahan's most advanced Chips technology increases these capabilities
                      price: 1114.2560454964039
                      stock: 197
                      categoryId: 21966060-d573-44b5-acdf-eb071e4fa720
                      images:
                        - url: https://picsum.photos/seed/l7Esfm/600/400?blur=6
                          altText: Electronic view
                      discountType: fixed
                      discountValue: 238.91403871841467
                      discountStart: '2025-08-01T23:08:59.272Z'
                      discountEnd: '2025-08-09T23:22:05.466Z'
                      isFeatured: false
                      salesCount: 410
                    - id: '101'
                      name: Ergonomic Ceramic Computer
                      description: Awesome Hat designed with Granite for intelligent performance
                      price: 343.1175579650246
                      stock: 86
                      categoryId: e8c5c0a8-952d-4e43-a916-7103bdabc3c2
                      images:
                        - url: https://picsum.photos/seed/vVUxHc/600/400?blur=6
                          altText: Gorgeous view
                      discountType: fixed
                      discountValue: 261.24528436482757
                      discountStart: '2025-08-01T04:44:24.064Z'
                      discountEnd: '2025-08-12T22:19:50.382Z'
                      isFeatured: true
                      salesCount: 151
                    - id: '102'
                      name: Incredible Gold Computer
                      description: The sleek and liquid Chicken comes with plum LED lighting for smart functionality
                      price: 1347.1698461766614
                      stock: 94
                      categoryId: a18828d5-17c7-4f34-bfed-a4a0e528385c
                      images:
                        - url: https://picsum.photos/seed/gvjahfEs/600/400?blur=3
                          altText: Bespoke view
                      discountType: percentage
                      discountValue: 34.76009718019638
                      discountStart: '2025-08-05T13:01:28.551Z'
                      discountEnd: '2025-08-08T03:28:51.523Z'
                      isFeatured: false
                      salesCount: 342
                    - id: '103'
                      name: Frozen Wooden Soap
                      description: Nader, Powlowski and Skiles's most advanced Pizza technology increases enraged capabilities
                      price: 773.3750968163072
                      stock: 127
                      categoryId: f9ba62e3-be1a-484a-9651-9485396d5654
                      images:
                        - url: https://picsum.photos/seed/Zhgmne4/600/400?blur=6
                          altText: Practical view
                      discountType: percentage
                      discountValue: 18.319401799817502
                      discountStart: '2025-08-03T01:00:22.825Z'
                      discountEnd: '2025-07-28T21:56:28.204Z'
                      isFeatured: true
                      salesCount: 75
                    - id: '104'
                      name: Small Gold Computer
                      description: Small Fish designed with Granite for runny performance
                      price: 1096.8864269997177
                      stock: 138
                      categoryId: 5921d3d7-f583-4389-88ef-7307d8af9d64
                      images:
                        - url: https://picsum.photos/seed/fxg4ARd/600/400?blur=4
                          altText: Awesome view
                      discountType: fixed
                      discountValue: 293.9371090479807
                      discountStart: '2025-08-03T07:21:20.815Z'
                      discountEnd: '2025-08-08T01:36:53.633Z'
                      isFeatured: true
                      salesCount: 274
                    - id: '105'
                      name: Ergonomic Gold Cheese
                      description: Ergonomic Keyboard made with Cotton for all-day easy support
                      price: 1234.8359675810107
                      stock: 33
                      categoryId: cedb8f5c-7b63-4f0b-9c6b-48c8290eda63
                      images:
                        - url: https://picsum.photos/seed/Ay8P1g/600/400
                          altText: Sleek view
                      discountType: percentage
                      discountValue: 20.709081728129405
                      discountStart: '2025-08-03T04:14:06.533Z'
                      discountEnd: '2025-08-08T08:21:15.200Z'
                      isFeatured: true
                      salesCount: 250
                    - id: '106'
                      name: Rustic Wooden Sausages
                      description: Our tangy-inspired Pizza brings a taste of luxury to your whispered lifestyle
                      price: 182.52522346597183
                      stock: 30
                      categoryId: 55f4b790-d294-42e0-9f40-117b191d09d2
                      images:
                        - url: https://picsum.photos/seed/rmKKjW/600/400?blur=6
                          altText: Frozen view
                      discountType: percentage
                      discountValue: 10.741449334618748
                      discountStart: '2025-07-28T21:12:11.950Z'
                      discountEnd: '2025-08-04T14:58:54.603Z'
                      isFeatured: true
                      salesCount: 216
                    - id: '107'
                      name: Bespoke Aluminum Fish
                      description: Fresh Mouse designed with Silk for watery performance
                      price: 15.78974762094483
                      stock: 54
                      categoryId: 7ea0e735-c14a-4c64-ac45-2826c490f96a
                      images:
                        - url: https://picsum.photos/seed/RTr5e/600/400?grayscale
                          altText: Luxurious view
                      discountType: fixed
                      discountValue: 276.5393045302896
                      discountStart: '2025-08-04T06:56:08.155Z'
                      discountEnd: '2025-08-15T03:18:30.194Z'
                      isFeatured: true
                      salesCount: 421
                    - id: '108'
                      name: Generic Concrete Keyboard
                      description: New white Ball with ergonomic design for outgoing comfort
                      price: 1431.787760573024
                      stock: 112
                      categoryId: f053c508-9cf9-4300-ab5d-366a863a592c
                      images:
                        - url: https://picsum.photos/seed/3g63bEI0/600/400?grayscale&blur=7
                          altText: Frozen view
                      discountType: fixed
                      discountValue: 231.21179660092122
                      discountStart: '2025-08-02T09:21:41.795Z'
                      discountEnd: '2025-08-04T22:41:40.079Z'
                      isFeatured: false
                      salesCount: 360
                    - id: '109'
                      name: Refined Steel Table
                      description: Discover the dog-like agility of our Chair, perfect for unconscious users
                      price: 995.4717555441349
                      stock: 52
                      categoryId: 8732399e-2671-48c7-acb1-4578d3faff7b
                      images:
                        - url: https://picsum.photos/seed/njulh9Xb9K/600/400?blur=5
                          altText: Fresh view
                      discountType: fixed
                      discountValue: 262.2805096142906
                      discountStart: '2025-08-02T09:00:34.236Z'
                      discountEnd: '2025-08-11T21:26:21.332Z'
                      isFeatured: false
                      salesCount: 50
    post:
      tags:
        - Products
      summary: Create a new product
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewProduct'
      responses:
        '201':
          description: Product created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
  /products/{id}:
    get:
      tags:
        - Products
      summary: Get product by ID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: A single product
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
    put:
      tags:
        - Products
      summary: Update an existing product
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewProduct'
      responses:
        '200':
          description: Product updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
    delete:
      tags:
        - Products
      summary: Delete a product
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Product deleted successfully
  /categories:
    get:
      tags:
        - Categories
      summary: Get all categories
      responses:
        '200':
          description: List of categories
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
    post:
      tags:
        - Categories
      summary: Create a new category
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewCategory'
      responses:
        '201':
          description: Category created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
  /categories/{id}:
    get:
      tags:
        - Categories
      summary: Get category by ID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: A single category
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
    put:
      tags:
        - Categories
      summary: Update a category
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewCategory'
      responses:
        '200':
          description: Category updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
    delete:
      tags:
        - Categories
      summary: Delete a category
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Category deleted successfully
components:
  schemas:
    Product:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for the product
        name:
          type: string
          description: Product name
        description:
          type: string
          description: Product description
        price:
          type: number
          format: float
          description: Price of the product
        stock:
          type: integer
          description: Available stock quantity
        categoryId:
          type: string
          format: uuid
          description: ID of the category this product belongs to
        images:
          type: array
          description: List of product images
          items:
            $ref: '#/components/schemas/ProductImage'
        discountType:
          type: string
          enum:
            - percentage
            - fixed
          description: Type of discount applied
        discountValue:
          type: number
          format: float
          minimum: 0
          maximum: 100
          description: Discount amount
        discountStart:
          type: string
          format: date-time
          description: Discount start date
        discountEnd:
          type: string
          format: date-time
          description: Discount end date
        isFeatured:
          type: boolean
          description: Flag to indicate if the product is featured
        salesCount:
          type: integer
          description: Number of times the product has been sold
    NewProduct:
      type: object
      required:
        - name
        - price
        - stock
        - categoryId
      properties:
        name:
          type: string
        description:
          type: string
        price:
          type: number
          format: float
        stock:
          type: integer
        categoryId:
          type: string
          format: uuid
        images:
          type: array
          items:
            $ref: '#/components/schemas/ProductImage'
        discountType:
          type: string
          enum:
            - percentage
            - fixed
        discountValue:
          type: number
          format: float
          minimum: 0
          maximum: 100
        discountStart:
          type: string
          format: date-time
        discountEnd:
          type: string
          format: date-time
        isFeatured:
          type: boolean
        salesCount:
          type: integer
    ProductImage:
      type: object
      properties:
        url:
          type: string
          description: URL of the image
        altText:
          type: string
          description: Alt text for accessibility
    Category:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for the category
        name:
          type: string
          description: Category name
        parentId:
          type: string
          format: uuid
          nullable: true
          description: ID of the parent category (if any)
    NewCategory:
      type: object
      required:
        - name
      properties:
        name:
          type: string
        parentId:
          type: string
          format: uuid
          nullable: true
